<div class="shadow-sm bg-white rounded">
  <div class="card-header">
    <h1>Subscribed tasks</h1>
    <span>Here you can quickly find all important tasks</span>
  </div>
  <div class="row p-3">
    <div class="col-md-2 d-flex flex-column order-md-2">
    </div>
    <div class="col-12 order-md-1">
      <ng-container *ngIf="dataLoaded() else loadingSpinner">
        <ng-container *ngIf="tasks.length == 0; else tasksOverview">
          You do not subscribe any task...
        </ng-container>
        <ng-template #tasksOverview>
          <table class="table">
            <thead class="thead-light">
            <th scope="col">Name</th>
            <th scope="col">Description</th>
            <th scope="col">Assigned To</th>
            <th scope="col">State</th>
            <th scope="col">Priority</th>
            <th scope="col">Updated At</th>
            <th scope="col"></th>
            </thead>
            <tbody>
            <ng-container *ngFor="let task of tasks">
              <tr>
                <td>{{task.name}}</td>
                <td>{{task.description}}</td>
                <td>{{task.assignedUser}}</td>
                <td>{{task.state.name | transformTaskStateName}}</td>
                <td>{{task.priority.name | transformPriorityName}}</td>
                <td>{{task.updatedAt | transformDate}}</td>
                <td>
                  <button routerLink="/boards/{{task.boardId}}/{{task.id}}" class="btn btn-outline-primary">Open</button>
                </td>
              </tr>
            </ng-container>
            </tbody>
          </table>
        </ng-template>
      </ng-container>

      <ng-template #loadingSpinner>
        <app-loading-spinner></app-loading-spinner>
      </ng-template>
    </div>
  </div>
</div>

